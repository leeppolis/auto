<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Traffico a Milano</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;900&family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="include" href="https://visualize.news/remotes/footer/corporate_it.html" id="corporate" />
    <link rel="include" href="https://visualize.news/remotes/footer/legal_it.html" id="legal" />
    <link rel="stylesheet" href="https://visualize.news/remotes/footer/footer.css" type="text/css" />
    <link rel="stylesheet" href="./style.css" type="text/css" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JM07W28N0C"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-JM07W28N0C');
    </script>
    <!-- Scripts -->
    <script type="text/javascript" src="./scripts/config.js"></script>
    <script type="text/javascript" src="./scripts/functions.js"></script>
    <script type="text/javascript" src="./scripts/parallel.js"></script>
    <script type="text/javascript" src="./scripts/lollipop.js"></script>
    <script type="text/javascript" src="./scripts/smallmultiples.js"></script>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>La grande corsa</h1>
        <h2>Negli ultimi anni incentivi statali e sempre pi√π stringenti limitazioni al traffico privato hanno cambiato il parco macchine dei milanesi. Usando come fonte i dati pubblici forniti dal Comune di Milano üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø abbiamo provato a vedere cosa √® cambiato, e come.</h2>
      </header>

      <div class="text">
        <h3 class="title">Auto Registrate</h3>
        <div class="body">
          <p>A partire dal 2007 al 2019 (ultimo anno disponibile per cui i dati sono disponibili), il numero di vetture private üöò intestate a residenti üë®‚Äçü¶≤ nel Comune di Milano üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø √® sceso del <strong>4,95%</strong>. √à stato registrato un picco negativo <strong>tra il 2013 e il 2014</strong> (<strong>-14.922 unit√†</strong>), le immatricolazioni hanno poi iniziato, lentamente, a risalire.</p>
          <p>Nello stesso periodo <strong>i residenti sono saliti</strong> da 1.299.633 a 1.406242 unit√† (<strong>+8,2%</strong>) portando il rapporto veicoli per residente da <strong>0,55</strong> a <strong>0.49</strong>: i milanesi posseggono sempre meno auto.</p>
        </div>
      </div>
      
      <div id="line"></div>

      <div class="text">
        <h3 class="title">Evoluzione delle classi Ambientali</h3>
        <div class="body">
          <p>In un continuo tentativo di ridurre le emissioni dannose per la salute in quella che √® una delle citt√† pi√π inquinate d‚ÄôEuropa, negli ultimi anni il <strong>Comune di Milano</strong> üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø ha imposto limitazioni sempre pi√π stringenti al traffico privato: √® del <strong>2008</strong> l‚Äôintroduzione da parte della <strong>giunta Moratti</strong> dell‚Äô<strong><a href="https://it.wikipedia.org/wiki/Pedaggi_urbani_di_Milano#Ecopass" target="_new">Ecopass</a></strong>: si trattava in sostanza di un ticket da pagare per poter entrare con mezzi privati all‚Äôinterno della cerchia pi√π interna della citt√†, la cosiddetta cerchia dei navigli. Dal pagamento del ticket erano esentati i mezzi allora meno inquinanti, autoveicoli a benzina Euro 3 e 4 e veicoli Diesel Euro 4 e 5.</p>
          <p><strong>√à del 2012 l‚Äôintroduzione di <a href="https://it.wikipedia.org/wiki/Pedaggi_urbani_di_Milano#Area_C" target="_new">Area C</a></strong>, che cambia le regole: divieto di accesso totale per i veicoli pi√π inquinanti e pagamento di un ticket per tutti i veicoli autorizzati. Esenti da ticket sono solo i veicoli elettrici, ciclomotori e motocicli.</p>
          <p><strong>Nel 2019 l‚Äôamministrazione Sala</strong> compie un ulteriore passo per la riduzione delle emissioni istituendo <strong><a href="https://www.comune.milano.it/aree-tematiche/mobilita/area-b" target="_new">Area B</a></strong>: in praticamente tutto il territorio comunale <strong>√® vietata la circolazione ai mezzi pi√π inquinanti</strong>, secondo un <a href="https://www.comune.milano.it/aree-tematiche/mobilita/area-b/area-b-veicoli-che-non-possono-entrare" target="_new">calendario predefinito</a> che <strong>prevede la messa al bando di tutti i veicoli Diesel nel 2030</strong> (prossima scadenza ottobre 2022 con la messa la bando dei veicoli Euro 2 a benzina e di tutti i Diesel fino a Euro 5).</p>
          <p>Queste regole hanno contribuito allo svecchiamento del parco auto circolante? Quello che notiamo (e che si vede bene nel grafico qui sotto) √® che i veicoli Euro 6 sono al 31 dicembre 2019 diventati dominanti. Che questo serva da solo a migliorare la qualit√† dell‚Äôaria, per√≤, non √® certo.</p>
          <p><em>Clicca sul nome di una classe ambientale per evidenziare la sua evoluzione nel tempo</em>.</p>
        </div>
      </div>
      <div id="parallel"></div>
      <div class="text">
        <div class="body">
          <p>Mentre la crescita esponenziale nel numero di veicoli Euro 6 non ci ha stupiti, la variaizone numerica di vecoli appartenenti ad altre categorie ambientali ci ha invece stupiti: <strong>il numero di veicoli Euro 0</strong>, ad esempio, <strong>√® rimasto sostanzialmente invariato (-7.144 unit√†)</strong> bench√© questa classe sia stata la prima a subire restrizioni, mentre <strong>il numero</strong> di veicoli pi√π efficienti (seppur ormai obsoleti: <strong>Euro 1, 2, 3</strong>) si sia <strong>pi√π che dimezzato</strong> nella stessa finestra temporale. Quale sia il motivo non ci √® noto. Possiamo speculare sul fatto che le fasce pi√π a basso reddito non possono permettersi di cambiare spesso auto, oppure supporre che gran parte di questi veicoli siano d‚Äôepoca.</p>
          <p><em>Nei grafici che seguono √® possibile vedere il dettaglio per ogni categoria.</em></p>
        </div>
      </div>

      <br /><br /><br /><br /><br /><br />
      <div id="small-m"></div>
    </div>

    <footer id="footer" class="footer vn">
      <div class="footer-wrapper">
        <div class="sources">
          <h3>Fonti</h3>
          <p><a href="https://dati.comune.milano.it/" target="_new">Portale Open Data Comune di Milano</a>, <a href="https://www.istat.it/" target="_new">Istat</a>.</p>
        </div>
        <div class="cols">
          <div class="legal col" id="footer-legal"></div>
          <div class="corporate col" id="footer-corporate"></div>
        </div>
      </div>
    </footer>

    <script>
      d3.json('./data/data.json')
        .then((data) => {
          console.log(data);
          const years = Object.keys(data.auto).sort((a,b) => a - b);
          const categories = data.auto[years[0]].sort((a, b) => b.numero - a.numero).map(c => c.classe);
          const notesH = 100;
          const legendH = 40;
          const svgW = columnWidth * (years.length + 2);
          const svgH = rowHeight * (categories.length + 1) + notesH + legendH;
          

          const total = {};
          years.forEach((y) => {
            total[y] = data.auto[y].reduce((acc, d) => acc + d.numero, 0);
          });

          lollipop(svgW, svgH, years, total, data.persone);
          parallel(svgW, svgH, notesH, legendH, years, categories, data);

          // Small Multiples
          smallMultiples(years, data);

        });

        fetch(document.querySelector('#corporate').getAttribute('href'))
          .then(response => response.text())
          .then(content => {
            document.querySelector('#footer-corporate').innerHTML =content;
          });
        fetch(document.querySelector('#legal').getAttribute('href'))
          .then(response => response.text())
          .then(content => {
            document.querySelector('#footer-legal').innerHTML =content;
          });
    </script>
    <div class="assets">
      <svg>
        <defs>
          <pattern
            id="fill"
            width="3px"
            height="3px"
            patternUnits="userSpaceOnUse"
            patternContentUnits="userSpaceOnUse"
            viewBox="0 0 60 60"
            preserveAspectRatio="none"
            patternTransform="rotate(-45)"
          >
            <line
              x1="0"
              x2="90"
              y1="60"
              y2="60"
              stroke-width="10"
              stroke="#6F8884"
            />
          </pattern>
        </defs>
      </svg>
    </div>
  </body>
</html>
